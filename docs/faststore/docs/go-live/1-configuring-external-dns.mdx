---
title: '1. Configuring external DNS'
excerpt: 'Learn how to point your custom domain to FastStore and get your store ready for production.'
createdAt: '2024-01-01T00:00:00Z'
updatedAt: '2025-09-23T00:00:00Z'
---

In this guide, you will configure your custom domain so it correctly points to your FastStore website hosted on [FastStore WebOps](https://developers.vtex.com/docs/guides/faststore/webops-dashboard) (`https://{accountName}.vtex.app/`).
Once the configuration is complete, customers will access your store using your final domain (e.g., `www.mystore.com`) instead of the default WebOps URL.


This process includes:
- Creating DNS records that point your domain to VTEX’s CDN infrastructure
- Registering your domains in VTEX Account Settings
- Associating your domain with your FastStore WebOps project
- Migrating your store to the final HTTPS domain

As soon as you complete this guide, your FastStore website will be accessible via a custom domain, and **VTEX Checkout** will also be operational. You will then be ready to continue configuring other VTEX solutions, such as **Order Placed**, **Login**, and **My Account**.

> ⚠️ **Plan ahead:** Because several steps in this guide depend on DNS changes becoming fully available worldwide, we strongly recommend planning your go-live schedule accordingly. Avoid making last-minute updates that may delay your deployment or cause temporary domain resolution issues.

## Before you begin

   - Develop your FastStore project by following the [Getting Started track](https://developers.vtex.com/docs/guides/faststore/getting-started-overview).
   - Deploy your FastStore project.
   - Purchase the domain you want to use.
   - [Configure a root-domain redirect to the `www` subdomain.](https://help.vtex.com/en/tutorial/configuring-access-without-www--tutorials_4278#root-domain-redirect-without-www)

## Instructions

> ⚠️ If you still need to configure other VTEX solutions, **use a fictitious domain name** while following the steps. Once you have set up all the desired integrations, repeat the instructions using your final domain to make your website publicly available to end users.

### Step 1 - Creating DNS records

VTEX uses a CDN to serve FastStore websites. To make your domain reachable, you must create DNS CNAME records pointing your domain to VTEX’s CDN endpoints. Without this step, VTEX cannot validate or route traffic for your domain.


1. Access your domain provider's website.
2. Create a **CNAME** DNS record for your `www` domain (e.g., `www.mystore.com`) pointing to `www.{rootDomain}.cdn.vtex.com` (example: `www.mystore.com.cdn.vtex.com`). Check your domain provider's documentation for more information. The configured addresses may not be immediately available to everyone due to DNS propagation, which can take 24-48 hours to complete. For example:


Hostname | Type | Points to
-- | -- | --
www.mystore.com | CNAME | www.mystore.com.cdn.vtex.com


> ⚠️ If your strategy requires additional subdomains (e.g., `b2b.mystore.com`), add them as separate CNAMEs and ensure they are [listed under Hosts](#step3--configuring-domains-in-vtex-account-settings).  

### Step 2 - Putting your account into production

Before VTEX can serve your website on a custom domain, your account must be configured as a production-ready environment. See [Putting your account into production](https://help.vtex.com/en/tracks/go-live-your-store--4Ns5FxIiksmjsdX2yOTduM/7wFsbWgN4rnZsbjhv8IItX#putting-your-account-into-production) for more information.

### Step 3 - Configuring domains in VTEX Account Settings

VTEX must know which domains belong to your store so it can recognize incoming requests and serve the appropriate environment. Adding your domains here ensures My Account, Checkout, Login, and other VTEX services can operate correctly.

> ℹ For more information about store domain configuration, see the [Configuring the store domain](https://help.vtex.com/en/tutorial/configuring-the-store-domain--tutorials_2450) guide.

1. In the VTEX Admin, click your profile avatar, identified by the first letter of your email address.
2. Access **Account Settings > Account**.
3. Go to the **Stores** tab and in the **Hosts** table, click the menu (**⋮**) and choose **Edit**.
4. In the **Hosts** field, enter your main store domain (e.g., `www.mystore.com`) into the list.
5. Click `Add`.
   
   ![host-configuration](https://vtexhelp.vtexassets.com/assets/docs/src/account-settings-new___2e13bee3041e8505922a737b94652ca6.png)

6. Add the root domain as well (e.g., `mystore.com`).
7. Click the **Save** button.

> ⚠️ Checkout and secure flows will not work if any used domain or subdomain is missing. For more information, see [Adding subdomains to the host list](https://developers.vtex.com/docs/guides/faststore/go-live-1-configuring-external-dns#adding-subdomains-to-the-host-list).

### Step 4 - Associating your custom domain with your FastStore project


Up to this stage, your FastStore build continues to reference the default WebOps URL. Complete the steps below to update your storefront configuration and environment variables to point to your final production domain.

1. Open your FastStore project in any code editor of your preference.
2. Open the [`discovery.config.js`](https://developers.vtex.com/docs/guides/faststore/project-structure-config-options) file.
3. In the `discovery.config.js` file, update the `Production URLs` field with the new URLs, and replace the `rootDomain` value with your store root domain name. See the example below:
    
   ```js
   ...

   // Production URLs
   storeUrl: "https://www.mystore.com",
   checkoutUrl: "https://www.mystore.com/checkout",
   loginUrl: "https://www.mystore.com/api/io/login",
   accountUrl: "https://www.mystore.com/api/io/account",

   ...
   ```

   > ⚠️ Remove any references to `secureSubdomain` and `secure` host.

4. Save your changes.
5. Open the `vtex.env` file.
6. Add the `SITE_HOST` key with the main store domain as the value specified in [Step 3 - Configuring domains in VTEX Account Settings](https://developers.vtex.com/docs/guides/faststore/go-live-1-configuring-external-dns#step-3-configuring-domains-in-vtex-account-settings), for example, `SITE_HOST=www.yourstore.com`
7. Save your changes.
8. Open a Pull Request, commit your changes, and deploy them to `main`.

### Step 5 - Configuring the CDN workflow (Only for new go-lives)

If your FastStore website is going live for the first time, VTEX must activate the CDN workflow for your account. [Open a ticket with VTEX Support](https://help.vtex.com/en/support) and specify that you need to configure the CDN workflow for your store's secure and main domains.

Include the following information in your ticket:

   - Your VTEX **account name**.
   - The store's main domain (e.g., `www.mystore.com`).

The VTEX team will evaluate your request and take the necessary actions to configure your account's CDN workflow.

### Step 6 - Adding your store domain to FastStore WebOps

To finish the domain configuration, add your store domain to [FastStore WebOps](https://developers.vtex.com/docs/guides/faststore/webops-dashboard).

> ⚠️ FastStore WebOps domain configuration always takes priority over any settings in `discovery.config.js`. 

1. Access your [FastStore WebOps dashboard](https://developers.vtex.com/docs/guides/faststore/webops-dashboard).
2. Navigate to the **Settings** tab.
3. In the **Host** field, choose your store's domain (example: `www.mystore.com`) from the dropdown list.
4. Click `Add`.

   ![adding-host-webops](https://cdn.jsdelivr.net/gh/vtexdocs/dev-portal-content@main/docs/faststore/docs/go-live/adding-host-webops.png)

### Step 7 - Monitoring the new deployment

After you add your domain to FastStore WebOps, an automatic deployment is triggered to update the CDN and routing configuration. This deployment must finish successfully before your store becomes accessible under your custom domain.

1. Access your FastStore WebOps dashboard.
2. Navigate to the Settings tab.
3. Confirm your domain appears in the **Current Domains** list.

   ![currrent-domains](https://cdn.jsdelivr.net/gh/vtexdocs/dev-portal-content@main/docs/faststore/docs/go-live/current-domains.png)

### Step 8 - Migrating the domain

This final step asks VTEX to fully migrate your WebOps project so the custom domain becomes the primary URL instead of the default `{accountName}.vtex.app`. This is required for HTTPS, secure flows, and production routing.

1. Open a ticket with [VTEX Support](https://help.vtex.com/en/support) requesting a **domain migration** for your FastStore WebOps implementation. Include the following information:
   - VTEX account name
   - Store's domain (example: `www.mystore.com`)
   - Store's root domain (example: `mystore.com`)
   - Confirmation that you’ve completed all previous steps in this guide.
2. Wait for the VTEX team to process your request and complete the domain migration.
3. Once the migration is complete, test your store to ensure everything is working properly.

## Configuring custom domain prefixes

To ensure your store operates efficiently, it's important to correctly configure custom domain prefixes for checkout and secure product viewing. Custom domain prefixes must be configured in the following scenarios:

- Stores with multiple subdomains: [Add all the subdomains to the host list](#adding-subdomains-to-the-host-list).
- Stores with prefixed domains: [Add `subDomainPrefix` for prefixed domains](#adding-subdomainprefix-for-prefixed-domains).

### Adding subdomains to the host list

To ensure a seamless checkout experience, all subdomains used by your store must be added to the host list. If the store operates without the `www.` domain, you must include both the `www.` and non-`www.` domains in the host list. 

Stores with custom prefixes, like `shop.mystore.com`, need both the prefix and main domain (`shop.mystore.com` and `mystore.com`) added. This guarantees that the checkout process works seamlessly when customers access the store with or without `www.` or any other custom prefix.

### Adding `subDomainPrefix` for prefixed domains

To ensure customers can view products in the secured environment on your store's final domain, add the `subDomainPrefix` property to the [`discovery.config.js`](https://developers.vtex.com/docs/guides/faststore/getting-started-4-understanding-the-project-structure#files) file. 
The `subDomainPrefix` property maintains compatibility between cookies set in the storefront and the secure environment.

To add the `subDomainPrefix` property, follow these steps:

1. Open your FastStore project in a code editor of your preference.
2. Open the `discovery.config.js` file.
3. Navigate to the `api` object and add the following:

   ```js
   // Platform specific configs for API
   api: {
    ...
    subDomainPrefix: ['xxx']
   },
   ```

   > ⚠ Replace `'xxx'` in the `subDomainPrefix` property with the actual subdomain prefix (example: `['b2b']`). If you have multiple prefixes, add them as an array of strings (example: `['b2b', 'dev']`).

4. Save your changes.
5. Open a Pull Request, commit your changes, and deploy them to `main`.

## Related Resources

   - [Configuring the store domain](https://help.vtex.com/en/tutorial/configuring-the-store-domain--tutorials_2450)
   - [Setting up DNS pointing to VTEX](https://help.vtex.com/tracks/go-live-your-store--4Ns5FxIiksmjsdX2yOTduM/12bQlMbJ68Ot0LIaO6Btkj#setting-up-dns-pointing)
   - [Insert a reverse proxy in front of VTEX services](https://help.vtex.com/en/tutorial/insert-reverse-proxy-in-front-of-vtex-services--4PFWsfRAKviNVPf1bYdiir)
