---
title: "Troubleshooting"
---

# My FastStore API Extensions GraphQL updates are not visible

Tags: GraphQL, FastStore, API Extensions, Development

Keywords: GraphQL, API extensions, schema extensions, resolvers, fragments, type generation, yarn generate, deploy preview, production

When working with FastStore API Extensions, you may face issues such as local GraphQL changes not appearing, schema differences between environments, or generation errors.

## Solutions

### GraphQL changes not visible or inconsistent across environments

If your GraphQL changes are not visible during development, or if your deploy preview or production schema differs from your development schema, the GraphQL layer likely needs optimization. This process ensures your latest code changes are reflected in the generated schema and types.

1. Run `yarn generate` (recommended) or `yarn run faststore generate-graphql` in the project root.

> ⚠️ You can run `yarn generate` while the development server is running.

2. If changes are still not visible, or if differences between development and deploy preview/production persist, stop `yarn dev` and start it again.

### GraphQL changes not visible in production or deploy preview

If changes are visible in development but not in deploy preview or production, verify deployment inputs and build context.

1. Confirm all API Extensions changes are committed to the deployed branch.
2. Confirm the deploy preview/production build was triggered from the same branch and latest commit.
3. Re-run `yarn generate` (or `yarn run faststore generate-graphql`) locally and compare local behavior with the deployed result.


### Type generation errors and warnings

If you see errors or warnings during generation, use the table below to identify the issue and the required action.

Issue | Description | Solutions
--- | --- | ---
`error Failed to run 'yarn generate:schema'. Please check your setup.` | Schema generation failed, usually because of invalid schema extension files. | Review `.graphql` files in `src/graphql/vtex/typeDefs` and `src/graphql/thirdParty/typeDefs` for syntax and schema definition issues.
`error GraphQL was not optimized and TS files were not updated. Changes in the GraphQL layer did not take effect` | GraphQL optimization failed, usually due to invalid schema, resolvers, queries, or fragments. | Validate schema files, resolver files in `src/graphql/(vtex or thirdParty)/resolvers`, and query or fragment declarations in `.ts` and `.tsx` files.
`warn Failed to format generated files. 'yarn format:generated' thrown errors` | Formatting step failed after generation. | Treat as non-blocking for GraphQL generation and fix formatting separately. Artifacts are still generated and this error does not block schema/type updates.

### Error details

If the issue is not clear from the messages above, run the generation command with debug output to identify exactly where the failure occurs.

1. Run `yarn generate --debug`.
2. Use the verbose output to identify the failing file or operation.


