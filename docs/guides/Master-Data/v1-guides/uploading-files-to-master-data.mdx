---
title: Uploading files to Master Data
slug: uploading-files-to-master-data
excerpt: Learn how to upload files to Master Data v1.
createdAt: "2023-06-21T10:45:55.338Z"
updatedAt: "2023-06-21T11:40:35.480Z"
hidden: false
---

In this guide, you will learn how to upload files to Master Data v1 by following these steps:

- [Step 1 - Creating a new data entity](#step-1---creating-a-new-data-entity): Start by creating a new [data entity](https://help.vtex.com/en/tutorial/creating-data-entity--tutorials_1265) to hold the data you want to upload.
- [Step 2 - Publishing and indexing the data entity](#step-2---publishing-and-indexing-the-data-entity): After creating the entity, publish and index it to make it available via the [Master Data CRM](https://help.vtex.com/en/tutorial/how-can-i-create-a-field-in-master-data--frequentlyAskedQuestions_1829#crm).
- [Step 3 - Creating a Master Data form](#step-3---creating-a-master-data-form): Next, create a [form](https://help.vtex.com/en/tutorial/creating-form-in-master-data--tutorials_1047) that will allow you to upload your files.
- [Step 4 - Uploading the file](#step-4---uploading-the-file): Use the form to upload your files to Master Data v1.
- [Step 5 - Accessing the file](#step-5---accessing-the-file): Finally, see how to access the files' public URLs.

## Instructions

### Step 1 - Creating a new data entity

In this step, you will create a new [data entity](https://help.vtex.com/en/tutorial/creating-data-entity--tutorials_1265) to represent a collection of files. This entity will include a file-type field dedicated to storing files.

1. Access the [DynamicStorage](https://help.vtex.com/en/tutorial/how-can-i-create-a-field-in-master-data--frequentlyAskedQuestions_1829#dynamic-storage) at `https://{accountName}.ds.vtexcrm.com.br`.
   > _Remember to replace the value between curly braces with your [account name](https://help.vtex.com/tutorial/what-is-an-account-name--i0mIGLcg3QyEy8OCicEoC)._
2. Click **Data Entities** in the top bar.
3. Click **Add New**.
4. In the **Acronym** field, enter a two-letter acronym for the data entity you are creating.
5. In **Name**, enter the name of the data entity that will store the PDF file (e.g., _Files_, _PDFs_).
6. Go to the **Fields** tab. In the **Name** field, enter a new name for the field that will store the file in lowercase letters (e.g., _filename_).
7. In **Display Name**, enter the data entity name chosen in Step 5, but with uppercase in the first letter (e.g., _Files_, _Pdf_).
8. In the **Type** dropdown menu, select **File**.
9. Click the "engine" icon <img src="https://raw.githubusercontent.com/vtexdocs/dev-portal-content/main/docs/guides/Master-Data/v1-guides/engine-icon.png" alt="Engine Icon"/> on the right side of the **Type** field.
10. Under the **General settings** section, select the **Make readable without credential** checkbox to make the data saved via this field available without the need for authentication.
11. On **Custom field type settings**, select the **Max size per file** according to your needs. This sets the maximum file size that can be uploaded to this field.
12. Click **Save**.

<video src="https://raw.githubusercontent.com/vtexdocs/dev-portal-content/main/docs/guides/Master-Data/v1-guides/creating-a-new-data-entity.mp4" controls autoplay></video>

### Step 2 - Publishing and indexing the data entity

As the next step, you will now publish and index your newly created data entity.

1. On the **Data Entities** tab, find the data entity you created in the previous step and click the "blue disk" icon <img alt="Blue-disk Icon" src="https://raw.githubusercontent.com/vtexdocs/dev-portal-content/main/docs/guides/Master-Data/v1-guides/save-icon.png" alt="Save Icon"/> on the left side of the line to publish the entity.
2. Click **Ok** to continue.
3. Click the "four arrows" icon <img alt="Four-arrow Icon" src="https://raw.githubusercontent.com/vtexdocs/dev-portal-content/main/docs/guides/Master-Data/v1-guides/arrows-icon.png"/> to reindex the data entity.

> ⚠️ Wait for the data entity to be fully indexed. This may take from 30 minutes to one hour. During this time, do not make any changes to the data entity or its fields. Note that there is currently no interface to monitor the progress of indexation. Instead, you can periodically check the status of the entity.

<video src="https://raw.githubusercontent.com/vtexdocs/dev-portal-content/main/docs/guides/Master-Data/v1-guides/publishing-and-indexing.mp4" controls autoplay></video>

### Step 3 - Creating a Master Data form

Once your data entity is successfully indexed, you can proceed to [create a form](https://help.vtex.com/en/tutorial/creating-form-in-master-data--tutorials_1047). This form will define how your data entity will be displayed and handled.

1. After indexation is completed, access the [Master Data CRM](https://help.vtex.com/en/tutorial/how-can-i-create-a-field-in-master-data--frequentlyAskedQuestions_1829#crm) at `https://{account}.vtexcrm.com.br`.
   > _Remember to replace the value between curly braces with your [account name](https://help.vtex.com/tutorial/what-is-an-account-name--i0mIGLcg3QyEy8OCicEoC)._
2. Click the **Advanced settings** tab.
3. Click **Formulários**.
4. Click **Novo** to create a new form.
5. In the **Nome** field, enter the name of the _formulário_, which should be the same as the data entity name.
6. In **Entidade de Dados**, select the data entity you previously created.
7. In the **Campos de Listagem** tab, select the **Id do Registro** and the data entity you previously created.
8. Change to the **Schemas de Layout** tab.
9. Click the **Incluir nova seção** button to add a new section to the form.
10. In the **Nome** field, enter a name for the section.
11. Select the data entity previously created from the column **Campos disponíveis**. Then, drag and drop it into the column **Campos da coluna 1**.
12. Click **Save**.

<video src="https://raw.githubusercontent.com/vtexdocs/dev-portal-content/main/docs/guides/Master-Data/v1-guides/creating-a-master-data-form.mp4" controls autoplay></video>

### Step 4 - Uploading the file

Now, access the [Master Data CRM](https://help.vtex.com/en/tutorial/how-can-i-create-a-field-in-master-data--frequentlyAskedQuestions_1829#crm) at `https://{account}.vtexcrm.com.br` to upload your files.
   > _Remember to replace the value between curly braces with your [account name](https://help.vtex.com/tutorial/what-is-an-account-name--i0mIGLcg3QyEy8OCicEoC)._

By now, when accessing the Master Data CRM, you should see a new tab with the name of the form you just created. If that's not the case, reload the page.

![Form](https://raw.githubusercontent.com/vtexdocs/dev-portal-content/main/docs/guides/Master-Data/v1-guides/form.png)

1. Click the tab with the name of your new form.
2. Click **Novo**.
3. Click the **Upload a File** button. Choose your file and click **Open**.
4. After the upload, click **Save**.

<video src="https://raw.githubusercontent.com/vtexdocs/dev-portal-content/main/docs/guides/Master-Data/v1-guides/uploading-a-file.mp4" controls autoplay></video>

### Step 5 - Accessing the file

Finally, after uploading your files, you can access and share their URLs by following these steps:

1. In the Master Data CRM, click the tab with the name of your new form.
2. Copy the **Id do Registro** value and save it. The **Id do Registro** value has the following pattern: `{acronym}-XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX`.
3. Assemble the file's public URL and use it to access the file. Use this pattern to assemble the URL: `https://{account}.vtexcommercestable.com.br/api/dataentities/{acronym}/documents/{idWithouthAcronym}/{fieldName}/attachments/{file}`, where:
    - `acronym` - Two-letter acronym that identifies the data structure
    - `idWithouthAcronym` - Id of the document, without the acronym, i.e., the `XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX` part from the **Id do Registro** value.
    - `fieldName` - Name of the field created in step 6 of **Step 1 - Creating a new data entity**.
    - `file` - Name of the file followed by its extension (e.g., `myfile.pdf`).
